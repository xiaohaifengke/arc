!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.arc=e():t.arc=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"arcPoints",(function(){return n}));var n={calcControlPoint(t){var e=t.start,r=t.end,n=t.direction,o=void 0===n?"up":n,i=t.cph,a=void 0===i?.5:i,c=t.cpv,u=void 0===c?.2:c;if(r[1]!==e[1]){var p=-(r[0]-e[0])/(r[1]-e[1]),d=u*Math.sqrt(Math.pow(r[1]-e[1],2)+Math.pow(r[0]-e[0],2)),f=a*r[0]+(1-a)*e[0],l=a*r[1]+(1-a)*e[1],s=f+d/Math.sqrt(1+Math.pow(p,2)),v=l+p*d/Math.sqrt(1+Math.pow(p,2)),h=f-d/Math.sqrt(1+Math.pow(p,2)),y=l-p*d/Math.sqrt(1+Math.pow(p,2));return"down"===o?v>y?[h,y]:[s,v]:"ring"===o?r[0]>e[0]?v>y?[s,v]:[h,y]:v>y?[h,y]:[s,v]:v>y?[s,v]:[h,y]}},quadraticBezier(t,e,r,n){var o=1-n;return o*o*t+2*(1-n)*n*e+n*n*r},generateBezierPoints(t,e,r,n){var o=(n=n||{cph:.5,cpv:.2,direction:"up"}).cph||.5,i=n.cpv||.2,a=n.direction||"up",c=this.calcControlPoint({start:t,end:e,direction:a,cph:o,cpv:i}),u=[];if(!r||r<=2)u.push(t),u.push(e);else for(var p=1/(r-1),d=0;d<r;d++){var f=p*d,l=this.quadraticBezier(t[0],c[0],e[0],f),s=this.quadraticBezier(t[1],c[1],e[1],f);u.push([l,s])}return u},getCphvFromIdenticTrailVectorTimes(t){var e=t.sameTrailVectorTimes,r=t.startPoint,n=t.endPoint,o=t.startPointIndex,i=t.dimensionSize,a=void 0===i?2:i,c=t.initCph,u=void 0===c?.45:c,p=t.initCpv,d=void 0===p?.16:p,f=t.cpvStep,l=void 0===f?.1:f,s="".concat(r[0],",").concat(r[1],"--").concat(n[0],",").concat(n[1]),v=(e[s].length,e[s].indexOf(o)),h=((u-.1)/a).toFixed(2),y=parseInt(v/a);return{cph:(u-v%a*h).toFixed(2),cpv:(d+y*l).toFixed(2)}},filterCoordinates(t){var e=[],r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;c[0]&&c[1]&&e.push(c)}}catch(t){n=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return e},getTheSameTrailVectorTimes(t){for(var e={},r=0,n=t.length;r<n-1;r++){var o=t[r],i=t[r+1],a="".concat(o[0],",").concat(o[1],"--").concat(i[0],",").concat(i[1]);e[a]?e[a].push(r):e[a]=[r]}return e}}}])}));